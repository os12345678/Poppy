(library
 (name poppy_parser)
 (libraries core menhirLib)
 (preprocess
  (pps ppx_jane ppx_expect ppx_inline_test))
 (modules ast lexer parser parser_interface)
 (public_name poppy))

(ocamllex lexer)
(menhir
 (modules parser)
 (flags --explain))